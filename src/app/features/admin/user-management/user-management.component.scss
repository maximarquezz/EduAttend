@use "../../../shared/styles/layout.scss" as *;
@use "../../../shared/styles/breakpoints.scss" as *;
@use "sass:map";

.user-management {
  max-width: 1400px;
  margin: 0 auto;

  .requests-card {
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    border-radius: 8px;
    overflow: hidden;
    border: 1px solid #e5e7eb;

    mat-card-header {
      background: var(--mat-sys-primary);
      border-bottom: 1px solid #e5e7eb;
      padding: 1.5rem;
      margin: 0;

      .header-content {
        display: flex;
        justify-content: space-between;
        align-items: center;
        width: 100%;
        flex-wrap: wrap;
        gap: 1rem;

        .title-section {
          display: flex;
          align-items: center;
          gap: 1rem;
          flex: 1;
          min-width: 250px;

          .header-icon {
            font-size: 2rem;
            width: 2rem;
            height: 2rem;
            color: #fff;
          }

          .title-wrapper {
            mat-card-title {
              color: #fff;
              font-size: 1.5rem;
              margin: 0;
              text-align: center;
            }

            mat-card-subtitle {
              color: #dcdcdc;
              margin-top: 0.25rem;
              font-size: 0.875rem;
            }
          }
        }

        .badge-section {
          .pending-chip {
            background: #fef3c7;
            color: #92400e;
            font-weight: 500;
            border: 1px solid #fcd34d;

            mat-icon {
              color: #92400e;
              margin-right: 0.25rem;
            }
          }
        }
      }
    }

    mat-card-content {
      padding: 0;
      min-height: 400px;
      background: #fafafa;

      // Estados
      .loading-state,
      .error-state,
      .empty-state {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 4rem 2rem;
        gap: 1rem;
        background: #ffffff;

        mat-icon {
          font-size: 3.5rem;
          width: 3.5rem;
          height: 3.5rem;
          color: #d1d5db;
        }

        p {
          margin: 0;
          color: #6b7280;
          font-size: 1rem;
        }
      }

      .error-state {
        mat-icon {
          color: #ef4444;
        }

        button {
          margin-top: 1rem;
        }
      }

      .empty-state {
        .empty-title {
          font-weight: 600;
          font-size: 1.125rem;
          color: #374151;
        }

        .empty-subtitle {
          font-size: 0.875rem;
          color: #9ca3af;
        }
      }

      // Contenedor de solicitudes
      .requests-container {
        padding: 1.5rem;
        display: flex;
        flex-direction: column;
        gap: 1rem;
        background: #ffffff;

        .request-item {
          transition: all 0.2s ease;

          &:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
          }
        }
      }

      // Paginador
      .requests-paginator {
        border-top: 1px solid #e5e7eb;
        background: #ffffff;
        padding: 1rem 1.5rem;

        ::ng-deep {
          .mat-mdc-paginator-container {
            padding: 0;
            min-height: auto;
          }

          .mat-mdc-paginator-page-size-label,
          .mat-mdc-paginator-range-label {
            margin: 0 0.5rem;
            color: #6b7280;
          }
        }
      }
    }
  }
}

// Responsive
@media (max-width: 768px) {
  .user-management {
    padding: 1rem;

    .requests-card {
      mat-card-header {
        padding: 1.25rem 1rem;

        .header-content {
          flex-direction: column;
          align-items: flex-start;

          .title-section {
            width: 100%;

            .header-icon {
              font-size: 1.75rem;
              width: 1.75rem;
              height: 1.75rem;
            }

            .title-wrapper mat-card-title {
              font-size: 1.25rem;
            }
          }

          .badge-section {
            width: 100%;

            mat-chip-set {
              width: 100%;

              mat-chip {
                width: 100%;
                justify-content: center;
              }
            }
          }
        }
      }

      mat-card-content {
        .requests-container {
          padding: 1rem;
        }

        .requests-paginator {
          padding: 0.75rem 1rem;
        }
      }
    }
  }
}

@media (max-width: 480px) {
  .user-management .requests-card {
    mat-card-header .header-content .title-section {
      flex-direction: column;
      align-items: flex-start;
      gap: 0.5rem;
    }
  }
}
