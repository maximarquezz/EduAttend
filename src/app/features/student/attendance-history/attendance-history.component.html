<section class="attendance-history">
  <header class="attendance-header">
    <article class="flex items-center justify-center">
      <img
        src="assets/icons/arrow_left.svg"
        alt="Arrow left"
        class="invert"
        (click)="routerLinks.goToStudentDashboard()"
      />
      <h1 class="flex-1 text-center">Historial de Asistencias</h1>
    </article>
  </header>

  <main class="attendance-history__content">
    <mat-card class="history-card">
      <mat-card-content>
        <div class="table-container">
          <table mat-table matSort [dataSource]="tableData">
            <ng-container matColumnDef="date">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Fecha</th>
              <td mat-cell *matCellDef="let element">
                {{ element.date | date : "dd/MM/yyyy hh:mm:ss a" }}
              </td>
            </ng-container>

            <ng-container matColumnDef="subject">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Materia</th>
              <td mat-cell *matCellDef="let element">{{ element.subject }}</td>
            </ng-container>

            <ng-container matColumnDef="state">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Estado</th>
              <td mat-cell *matCellDef="let element">
                <div class="state-cell">
                  @if (element.state == 'Presente') {
                  <div class="circle-present"></div>
                  } @else if (element.state == 'Ausente') {
                  <div class="circle-absent"></div>
                  } @else if (element.state == 'Tarde') {
                  <div class="circle-late"></div>
                  } @else {
                  <div class="circle-justified"></div>
                  }
                  <span>{{ element.state }}</span>
                </div>
              </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="tableCols"></tr>
            <tr mat-row *matRowDef="let row; columns: tableCols"></tr>
          </table>

          <mat-paginator
            [pageSize]="5"
            [pageSizeOptions]="[5, 10, 25]"
            showFirstLastButtons
          ></mat-paginator>
        </div>
      </mat-card-content>
    </mat-card>
  </main>
</section>
